<div class="container">

  <%= case get_top_featured_post(@conn, @site.posts) do %>
    <% {:error, _} -> %>
    <% {:ok, top_post } -> %>
      <%= shared_render_posts_card @conn, 
      [top_post],
      Map.put(assigns, :type, :featured) %>
  <% end %>

  <%= case get_important_posts_right(@conn, @site.posts) do %>
    <% {:error, _} -> %> 
    <% {:ok, right_posts} -> %>
      <%= shared_render_posts_card @conn,
      right_posts,
      Map.put(assigns, :type, :important)%>
  <% end %>

  <%= case get_important_posts_left(@conn, @site.posts) do %>
    <% {:error, _} -> %> 
    <% {:ok, left_posts} -> %>
      <%= shared_render_posts_card @conn,
      left_posts,
      Map.put(assigns, :type, :important)%>
  <% end %>

  <%= case get_normal_posts(@conn, @site.posts) do %>
    <% {:error, _} -> %> 
    <% {:ok, normal_posts } -> %>
      <%= shared_render_posts_card @conn, 
      normal_posts,
      Map.put(assigns, :type, :normal) %>
  <% end %>

</div>
